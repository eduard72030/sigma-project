<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sigma Fun | Grind Station</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #050505; --text: #ffffff; --accent: #00ff41; --card-bg: #111111; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        h1 { font-size: clamp(2.5rem, 8vw, 4rem); font-weight: 900; margin: 20px 0; background: linear-gradient(to bottom, #fff, #444); -webkit-background-clip: text; -webkit-text-fill-color: transparent; letter-spacing: -2px; }
        .container { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px; width: 100%; max-width: 1200px; padding-bottom: 50px; }
        .card { background: var(--card-bg); border-radius: 20px; padding: 25px; border: 1px solid #222; transition: 0.3s; display: flex; flex-direction: column; }
        .card:hover { border-color: var(--accent); transform: translateY(-3px); }
        
        /* Clicker y Tienda */
        #sigma-face { font-size: 6rem; cursor: pointer; user-select: none; transition: 0.1s; filter: drop-shadow(0 0 10px rgba(0,255,65,0.1)); }
        #sigma-face:active { transform: scale(0.9); }
        .shop-item { display: flex; justify-content: space-between; align-items: center; background: #000; padding: 12px; margin: 8px 0; border-radius: 12px; border: 1px solid #222; }
        .btn-buy { background: var(--accent); color: #000; border: none; padding: 8px 15px; border-radius: 8px; font-weight: bold; cursor: pointer; }
        .btn-buy:disabled { background: #333; color: #777; cursor: not-allowed; }

        /* Logros */
        .achievement-row { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; color: #444; font-weight: bold; transition: 0.5s; }
        .achievement-row.unlocked { color: var(--accent); text-shadow: 0 0 10px rgba(0,255,65,0.3); }

        /* Trader Game */
        #price-display { font-size: 2.5rem; font-weight: 900; margin: 10px 0; }
        .trade-btns { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; }
        .buy-btn { background: #00ff41; color: #000; }
        .sell-btn { background: #ff4444; color: #fff; }

        .green { color: var(--accent); }
        .red { color: #ff4444; }
        p { color: #888; margin: 5px 0; }
    </style>
</head>
<body>

<h1>SIGMA FUN</h1>

<div class="container">
    
    <div class="card">
        <h3>üóø El Clicker del Grind</h3>
        <div style="text-align: center; padding: 20px;">
            <div id="sigma-face" onclick="doClick()">üóø</div>
            <h2 id="balance" style="font-size: 2.5rem; margin: 10px 0;">$0</h2>
            <p>Por clic: <span class="green">$<span id="val-per-click">1</span></span> | Pasivo: <span class="green">$<span id="val-auto">0</span>/s</span></p>
        </div>
        <div class="shop-item">
            <div><b>Focus Mental</b><br><p>Clic +1 (Coste: $<span id="cost-click">15</span>)</p></div>
            <button class="btn-buy" id="btn-upgrade-click" onclick="buyUpgrade('click')">Mejorar</button>
        </div>
        <div class="shop-item">
            <div><b>Auto-Grind</b><br><p>+$5/s (Coste: $<span id="cost-auto">100</span>)</p></div>
            <button class="btn-buy" id="btn-upgrade-auto" onclick="buyUpgrade('auto')">Mejorar</button>
        </div>
    </div>

    <div class="card">
        <h3>üìà Sigma Trader</h3>
        <p>Compra barato, vende caro. No pierdas tu capital.</p>
        <div style="text-align: center; margin: 20px 0;">
            <p>Precio Activo:</p>
            <div id="price-display">$100</div>
            <p>Tienes: <span id="assets-owned" class="green">0</span> activos</p>
        </div>
        <div class="trade-btns">
            <button class="btn-buy buy-btn" onclick="trade('buy')">COMPRAR</button>
            <button class="btn-buy sell-btn" onclick="trade('sell')">VENDER</button>
        </div>
    </div>

    <div class="card">
        <h3>üèÜ Logros de Estatus</h3>
        <div id="achievements-list">
            <div class="achievement-row" id="ach-1">üîí Inversionista Inicial ($500)</div>
            <div class="achievement-row" id="ach-2">üîí Influencer del Grind ($5,000)</div>
            <div class="achievement-row" id="ach-3">üîí Tibur√≥n de Negocios ($50,000)</div>
            <div class="achievement-row" id="ach-4">üîí Capitalista Absoluto ($500,000)</div>
            <div class="achievement-row" id="ach-5">üîí Leyenda Sigma ($1M)</div>
        </div>
        <button style="margin-top:20px; background:none; color:#444; border:1px solid #444;" onclick="resetGame()">Reiniciar Todo</button>
    </div>

</div>

<script>
    // --- DATOS Y GUARDADO ---
    let data = JSON.parse(localStorage.getItem('sigmaData')) || {
        money: 0,
        clickVal: 1,
        autoVal: 0,
        costs: { click: 15, auto: 100 },
        assets: 0
    };

    function save() {
        localStorage.setItem('sigmaData', JSON.stringify(data));
    }

    // --- CLICKER ---
    function doClick() {
        data.money += data.clickVal;
        updateUI();
    }

    function buyUpgrade(type) {
        if (type === 'click' && data.money >= data.costs.click) {
            data.money -= data.costs.click;
            data.clickVal += 1;
            data.costs.click = Math.floor(data.costs.click * 1.7);
        } else if (type === 'auto' && data.money >= data.costs.auto) {
            data.money -= data.costs.auto;
            data.autoVal += 5;
            data.costs.auto = Math.floor(data.costs.auto * 2);
        }
        updateUI();
    }

    // --- TRADER GAME ---
    let currentPrice = 100;
    setInterval(() => {
        let change = Math.floor(Math.random() * 40) - 20;
        currentPrice += change;
        if (currentPrice < 10) currentPrice = 10;
        
        const display = document.getElementById('price-display');
        display.innerText = `$${currentPrice}`;
        display.className = change >= 0 ? 'green' : 'red';
    }, 2000);

    function trade(type) {
        if (type === 'buy' && data.money >= currentPrice) {
            data.money -= currentPrice;
            data.assets++;
        } else if (type === 'sell' && data.assets > 0) {
            data.money += currentPrice;
            data.assets--;
        }
        updateUI();
    }

    // --- LOOP PASIVO ---
    setInterval(() => {
        if (data.autoVal > 0) {
            data.money += data.autoVal;
            updateUI();
        }
    }, 1000);

    // --- UI Y LOGROS ---
    function updateUI() {
        document.getElementById('balance').innerText = `$${Math.floor(data.money).toLocaleString()}`;
        document.getElementById('val-per-click').innerText = data.clickVal;
        document.getElementById('val-auto').innerText = data.autoVal;
        document.getElementById('cost-click').innerText = data.costs.click;
        document.getElementById('cost-auto').innerText = data.costs.auto;
        document.getElementById('assets-owned').innerText = data.assets;

        // Desactivar botones si no hay dinero
        document.getElementById('btn-upgrade-click').disabled = data.money < data.costs.click;
        document.getElementById('btn-upgrade-auto').disabled = data.money < data.costs.auto;

        checkAchievements();
        save();
    }

    function checkAchievements() {
        const milestones = [
            { id: 'ach-1', val: 500, txt: '‚úÖ Inversionista Inicial' },
            { id: 'ach-2', val: 5000, txt: '‚úÖ Influencer del Grind' },
            { id: 'ach-3', val: 50000, txt: '‚úÖ Tibur√≥n de Negocios' },
            { id: 'ach-4', val: 500000, txt: '‚úÖ Capitalista Absoluto' },
            { id: 'ach-5', val: 1000000, txt: '‚úÖ Leyenda Sigma' }
        ];

        milestones.forEach(m => {
            if (data.money >= m.val) {
                const el = document.getElementById(m.id);
                el.classList.add('unlocked');
                el.innerText = m.txt;
            }
        });
    }

    function resetGame() {
        if(confirm("¬øSeguro que quieres borrar tu progreso Sigma?")) {
            localStorage.clear();
            location.reload();
        }
    }

    // Inicializar
    updateUI();
</script>

</body>
</html>
